(()=>{var t,e,i,n,o={282:(t,e,i)=>{var n={"./_Attack.png":[843,843],"./_Attack2.png":[209,209],"./_Attack2Left.png":[354,354],"./_AttackLeft.png":[352,352],"./_Crouch.png":[669,50],"./_CrouchAttack.png":[737,737],"./_CrouchAttackLeft.png":[498,498],"./_CrouchLeft.png":[174,174],"./_CrouchWalk.png":[418,418],"./_CrouchWalkLeft.png":[50,669],"./_Idle.png":[929,929],"./_IdleLeft.png":[410,410],"./_Jump.png":[795,795],"./_JumpFallInbetween.png":[157,157],"./_JumpFallInbetweenLeft.png":[406,406],"./_JumpLeft.png":[8,8],"./_Roll.png":[774,774],"./_RollLeft.png":[590,590],"./_Run.png":[616,616],"./_RunLeft.png":[943,943],"./_TurnAround.png":[713,713],"./_TurnAroundLeft.png":[922,922]};function o(t){if(!i.o(n,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],o=e[0];return i.e(e[1]).then((()=>i.t(o,17)))}o.keys=()=>Object.keys(n),o.id=282,t.exports=o},58:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var n=i(904),o=i.n(n),s=i(249),r=i.n(s)()(o());r.push([t.id,"* {\n    margin: 0;\n    padding: 0;\n}\n\nbody {\n    overflow: hidden;\n}\n",""]);const a=r},249:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var h=0;h<t.length;h++){var l=[].concat(t[h]);n&&r[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},904:t=>{"use strict";t.exports=function(t){return t[1]}},463:t=>{"use strict";var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},r=[],a=0;a<t.length;a++){var c=t[a],h=n.base?c[0]+n.base:c[0],l=s[h]||0,u="".concat(h," ").concat(l);s[h]=l+1;var d=i(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=o(p,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:f,references:1})}r.push(u)}return r}function o(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,o){var s=n(t=t||[],o=o||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var a=i(s[r]);e[a].references--}for(var c=n(t,o),h=0;h<s.length;h++){var l=i(s[h]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=c}}},416:t=>{"use strict";var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},3:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},855:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},268:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var o=void 0!==i.layer;o&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,o&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},952:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},s={};function r(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={id:t,exports:{}};return o[t](i,i.exports,r),i.exports}r.m=o,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var o=Object.create(null);r.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&i;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>i[t]));return s.default=()=>i,r.d(o,s),o},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,i)=>(r.f[i](t,e),e)),[])),r.u=t=>t+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i={},n="my-webpack-project:",r.l=(t,e,o,s)=>{if(i[t])i[t].push(e);else{var a,c;if(void 0!==o)for(var h=document.getElementsByTagName("script"),l=0;l<h.length;l++){var u=h[l];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+o){a=u;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",n+o),a.src=t),i[t]=[e];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=i[t];if(delete i[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((t=>t(n))),e)return e(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=i[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={792:0};r.f.j=(e,i)=>{var n=r.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var o=new Promise(((i,o)=>n=t[e]=[i,o]));i.push(n[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,(i=>{if(r.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,n[1](a)}}),"chunk-"+e,e)}};var e=(e,i)=>{var n,o,[s,a,c]=i,h=0;if(s.some((e=>0!==t[e]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);c&&c(r)}for(e&&e(i);h<s.length;h++)o=s[h],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},i=self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),r.nc=void 0,(()=>{"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t,e){return Math.random()*e+Math.random()*t}!function(){var t={};function e(t,e){this.x=t||0,this.y=e||0}function i(t,i){this.pos=t||new e,this.r=i||0,this.offset=new e}function n(t,i){this.pos=t||new e,this.angle=0,this.offset=new e,this.setPoints(i||[])}function o(t,i,n){this.pos=t||new e,this.w=i||0,this.h=n||0}function s(){this.a=null,this.b=null,this.overlapN=new e,this.overlapV=new e,this.clear()}t.Vector=e,t.V=e,e.prototype.copy=e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.perp=e.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},e.prototype.rotate=e.prototype.rotate=function(t){var e=this.x,i=this.y;return this.x=e*Math.cos(t)-i*Math.sin(t),this.y=e*Math.sin(t)+i*Math.cos(t),this},e.prototype.reverse=e.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.normalize=e.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},e.prototype.add=e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.sub=e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.scale=e.prototype.scale=function(t,e){return this.x*=t,this.y*=void 0!==e?e:t,this},e.prototype.project=e.prototype.project=function(t){var e=this.dot(t)/t.len2();return this.x=e*t.x,this.y=e*t.y,this},e.prototype.projectN=e.prototype.projectN=function(t){var e=this.dot(t);return this.x=e*t.x,this.y=e*t.y,this},e.prototype.reflect=e.prototype.reflect=function(t){var e=this.x,i=this.y;return this.project(t).scale(2),this.x-=e,this.y-=i,this},e.prototype.reflectN=e.prototype.reflectN=function(t){var e=this.x,i=this.y;return this.projectN(t).scale(2),this.x-=e,this.y-=i,this},e.prototype.dot=e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len2=e.prototype.len2=function(){return this.dot(this)},e.prototype.len=e.prototype.len=function(){return Math.sqrt(this.len2())},t.Circle=i,i.prototype.getAABBAsBox=i.prototype.getAABBAsBox=function(){var t=this.r;return new o(this.pos.clone().add(this.offset).sub(new e(t,t)),2*t,2*t)},i.prototype.getAABB=i.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},i.prototype.setOffset=i.prototype.setOffset=function(t){return this.offset=t,this},t.Polygon=n,n.prototype.setPoints=n.prototype.setPoints=function(t){if(!this.points||this.points.length!==t.length){var i,n=this.calcPoints=[],o=this.edges=[],s=this.normals=[];for(i=0;i<t.length;i++){var r=t[i],a=i<t.length-1?t[i+1]:t[0];r===a||r.x!==a.x||r.y!==a.y?(n.push(new e),o.push(new e),s.push(new e)):(t.splice(i,1),i-=1)}}return this.points=t,this._recalc(),this},n.prototype.setAngle=n.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},n.prototype.setOffset=n.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},n.prototype.rotate=n.prototype.rotate=function(t){for(var e=this.points,i=e.length,n=0;n<i;n++)e[n].rotate(t);return this._recalc(),this},n.prototype.translate=n.prototype.translate=function(t,e){for(var i=this.points,n=i.length,o=0;o<n;o++)i[o].x+=t,i[o].y+=e;return this._recalc(),this},n.prototype._recalc=function(){var t,e=this.calcPoints,i=this.edges,n=this.normals,o=this.points,s=this.offset,r=this.angle,a=o.length;for(t=0;t<a;t++){var c=e[t].copy(o[t]);c.x+=s.x,c.y+=s.y,0!==r&&c.rotate(r)}for(t=0;t<a;t++){var h=e[t],l=t<a-1?e[t+1]:e[0],u=i[t].copy(l).sub(h);n[t].copy(u).perp().normalize()}return this},n.prototype.getAABBAsBox=n.prototype.getAABBAsBox=function(){for(var t=this.calcPoints,i=t.length,n=t[0].x,s=t[0].y,r=t[0].x,a=t[0].y,c=1;c<i;c++){var h=t[c];h.x<n?n=h.x:h.x>r&&(r=h.x),h.y<s?s=h.y:h.y>a&&(a=h.y)}return new o(this.pos.clone().add(new e(n,s)),r-n,a-s)},n.prototype.getAABB=n.prototype.getAABB=function(){return this.getAABBAsBox().toPolygon()},n.prototype.getCentroid=n.prototype.getCentroid=function(){for(var t=this.calcPoints,i=t.length,n=0,o=0,s=0,r=0;r<i;r++){var a=t[r],c=r===i-1?t[0]:t[r+1],h=a.x*c.y-c.x*a.y;n+=(a.x+c.x)*h,o+=(a.y+c.y)*h,s+=h}return new e(n/=s*=3,o/=s)},t.Box=o,o.prototype.toPolygon=o.prototype.toPolygon=function(){var t=this.pos,i=this.w,o=this.h;return new n(new e(t.x,t.y),[new e,new e(i,0),new e(i,o),new e(0,o)])},t.Response=s,s.prototype.clear=s.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var r=[],a=0;a<10;a++)r.push(new e);var c=[];for(a=0;a<5;a++)c.push([]);var h=new s,l=new o(new e,1e-6,1e-6).toPolygon();function u(t,e,i){for(var n=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=t.length,r=0;r<s;r++){var a=t[r].dot(e);a<n&&(n=a),a>o&&(o=a)}i[0]=n,i[1]=o}function d(t,e,i,n,o,s){var a=c.pop(),h=c.pop(),l=r.pop().copy(e).sub(t),d=l.dot(o);if(u(i,o,a),u(n,o,h),h[0]+=d,h[1]+=d,a[0]>h[1]||h[0]>a[1])return r.push(l),c.push(a),c.push(h),!0;if(s){var p,f,m=0;a[0]<h[0]?(s.aInB=!1,a[1]<h[1]?(m=a[1]-h[0],s.bInA=!1):m=(p=a[1]-h[0])<(f=h[1]-a[0])?p:-f):(s.bInA=!1,a[1]>h[1]?(m=a[0]-h[1],s.aInB=!1):m=(p=a[1]-h[0])<(f=h[1]-a[0])?p:-f);var g=Math.abs(m);g<s.overlap&&(s.overlap=g,s.overlapN.copy(o),m<0&&s.overlapN.reverse())}return r.push(l),c.push(a),c.push(h),!1}function p(t,e){var i=t.len2(),n=e.dot(t);return n<0?f:n>i?g:m}t.isSeparatingAxis=d;var f=-1,m=0,g=1;function y(t,e,i){for(var n=r.pop().copy(e.pos).add(e.offset).sub(t.pos),o=e.r,s=o*o,a=t.calcPoints,c=a.length,h=r.pop(),l=r.pop(),u=0;u<c;u++){var d=u===c-1?0:u+1,m=0===u?c-1:u-1,y=0,v=null;h.copy(t.edges[u]),l.copy(n).sub(a[u]),i&&l.len2()>s&&(i.aInB=!1);var _=p(h,l);if(_===f){h.copy(t.edges[m]);var w=r.pop().copy(n).sub(a[m]);if((_=p(h,w))===g){if((x=l.len())>o)return r.push(n),r.push(h),r.push(l),r.push(w),!1;i&&(i.bInA=!1,v=l.normalize(),y=o-x)}r.push(w)}else if(_===g){if(h.copy(t.edges[d]),l.copy(n).sub(a[d]),(_=p(h,l))===f){if((x=l.len())>o)return r.push(n),r.push(h),r.push(l),!1;i&&(i.bInA=!1,v=l.normalize(),y=o-x)}}else{var A=h.perp().normalize(),x=l.dot(A),b=Math.abs(x);if(x>0&&b>o)return r.push(n),r.push(A),r.push(l),!1;i&&(v=A,y=o-x,(x>=0||y<2*o)&&(i.bInA=!1))}v&&i&&Math.abs(y)<Math.abs(i.overlap)&&(i.overlap=y,i.overlapN.copy(v))}return i&&(i.a=t,i.b=e,i.overlapV.copy(i.overlapN).scale(i.overlap)),r.push(n),r.push(h),r.push(l),!0}function v(t,e,i){for(var n=t.calcPoints,o=n.length,s=e.calcPoints,r=s.length,a=0;a<o;a++)if(d(t.pos,e.pos,n,s,t.normals[a],i))return!1;for(a=0;a<r;a++)if(d(t.pos,e.pos,n,s,e.normals[a],i))return!1;return i&&(i.a=t,i.b=e,i.overlapV.copy(i.overlapN).scale(i.overlap)),!0}t.pointInCircle=function(t,e){var i=r.pop().copy(t).sub(e.pos).sub(e.offset),n=e.r*e.r,o=i.len2();return r.push(i),o<=n},t.pointInPolygon=function(t,e){l.pos.copy(t),h.clear();var i=v(l,e,h);return i&&(i=h.aInB),i},t.testCircleCircle=function(t,e,i){var n=r.pop().copy(e.pos).add(e.offset).sub(t.pos).sub(t.offset),o=t.r+e.r,s=o*o,a=n.len2();if(a>s)return r.push(n),!1;if(i){var c=Math.sqrt(a);i.a=t,i.b=e,i.overlap=o-c,i.overlapN.copy(n.normalize()),i.overlapV.copy(n).scale(i.overlap),i.aInB=t.r<=e.r&&c<=e.r-t.r,i.bInA=e.r<=t.r&&c<=t.r-e.r}return r.push(n),!0},t.testPolygonCircle=y,t.testCirclePolygon=function(t,e,i){var n=y(e,t,i);if(n&&i){var o=i.a,s=i.aInB;i.overlapN.reverse(),i.overlapV.reverse(),i.a=i.b,i.b=o,i.aInB=i.bInA,i.bInA=s}return n},t.testPolygonPolygon=v}();class e{constructor(t=0,e=0){this.x=t,this.y=e}static zero(){return new e(0,0)}static dot(t,e){return t.x*e.x+t.y*e.y}static random(){return new e(t(-1,1),t(-1,1))}static distance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}scale(t){return new e(this.x*t,this.y*t)}copy(){return new e(this.x,this.y)}negative(){return new e(-this.x,-this.y)}normalize(){return 0===this.getLength()?e.zero():new e(this.x/this.getLength(),this.y/this.getLength())}getLength(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}}class i{constructor(t){t&&t.gameObject&&(this._gameObject=t.gameObject)}setGameObject(t){this._gameObject=t}cleanup(){}}var n=new class{constructor(){this.drawables=new Set,this.cameras=new Set}render(){this.cameras.forEach((t=>{t.render([...this.drawables])}))}};class o extends i{constructor(t){super(t),this.velocity=e.zero(),this.friction=.02,this.rotationVelocity=0,this.rotationFriction=.02,this.name="rigibody"}move(t){this._gameObject&&(this._moveGameObject(t),this._rotateGameObject(t))}push(t,e){this.velocity.x+=t,this.velocity.y+=e}turn(t){this.rotationVelocity+=t}_moveGameObject(t){const{x:i,y:n}=this._gameObject.translate.position;this._gameObject.translate.setPosition(new e(i+this.velocity.x*t,n+this.velocity.y*t)),this.velocity.x*=1-this.friction*t,this.velocity.y*=1-this.friction*t}_rotateGameObject(t){this._gameObject.translate.rotation+=this.rotationVelocity*t,this.rotationVelocity*=1-this.rotationFriction*t}}function s(t,e,i,n){return new(i||(i=Promise))((function(o,s){function r(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}c((n=n.apply(t,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class a{}class c{get scale(){return this._scale}set scale(t){this._scale=t<0?0:t}constructor({points:t,scale:e}){this._scale=1,this.points=t,this._scale=e||this._scale}_getScaledPoint(t){return new e(t.x*this._scale,t.y*this._scale)}getPointsPosition(t,e){return this.points.map((i=>{const{x:n,y:o}=this._getScaledPoint(i),{x:s,y:r}=t;return c.rotatePoint(n+s,o+r,e,t)}))}static rotatePoint(t,i,n,o){const s=n*Math.PI/180,r=Math.cos(s),a=Math.sin(s),{x:c,y:h}=o;return new e(c+(t-c)*r-(i-h)*a,h+(t-c)*a+(i-h)*r)}}class h{constructor(){this.position=e.zero(),this.rotation=0,this.children=new Set}getActualPosition(){if(!this.parentTranslate)return this.position;const{rotation:t,position:i}=this.parentTranslate,{x:n,y:o}=this.position,{x:s,y:r}=i,a=new e(n+s,o+r);return c.rotatePoint(a.x,a.y,t,i)}getActionRotation(){return this.parentTranslate?this.parentTranslate.rotation+this.rotation:this.rotation}setPosition(t){this.position.x=t.x,this.position.y=t.y}setRotation(t){this.rotation=t}addChild(t){this.children.add(t),t.parentTranslate=this}}class l extends a{constructor(t){if(super(),this._image=new Image,this.translate=new h,this.spriteDrawConfig={height:null,width:null,cropHeight:null,cropWidth:null,cropY:null,cropX:null,strokeBoundaries:!1,offsetX:null,offsetY:null},this.isImageLoaded=!1,!t)return;const{cropHeight:e,cropWidth:i,cropX:n,cropY:o,width:s,height:r}=t;this.spriteDrawConfig.height=r,this.spriteDrawConfig.width=s,this.spriteDrawConfig.cropX=n,this.spriteDrawConfig.cropY=o,this.spriteDrawConfig.cropWidth=i,this.spriteDrawConfig.cropHeight=e}_loadSpriteImage(t){return s(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{this._image.onload=()=>e(),this._image.onerror=()=>i(),this._image.src=t}))}))}loadImage(t){return s(this,void 0,void 0,(function*(){try{yield this._loadSpriteImage(t),this.isImageLoaded=!0}catch(e){console.error(`\n                Error while loading sprite image\n                SOURCE: ${t}\n                ${e}\n            `)}}))}strokeSpriteBoundaries(t,e,i,n,o){t.fillStyle="black",t.strokeRect(e,i,n,o)}draw({context:t}){if(!this.isImageLoaded)return;const{x:e,y:i}=this.translate.getActualPosition(),{width:n,height:o,cropX:s,cropY:r,offsetX:a,offsetY:c,cropWidth:h,cropHeight:l}=this.spriteDrawConfig,u=void 0!==s&&void 0!==r&&void 0!==h&&void 0!==l;return n&&o?u?void(u&&(this.spriteDrawConfig.strokeBoundaries&&this.strokeSpriteBoundaries(t,e+a,i+c,n,o),t.drawImage(this._image,s,r,h,l,e+a,i+c,n,o))):t.drawImage(this._image,e,i,n,o):t.drawImage(this._image,e,i)}}var u=new class{constructor(){this.updateCallbacks=new Set,this.perfectFramerate=60,this.deltaTime=0,this.lastTimestamp=0}onUpdate(t){return this.updateCallbacks.add(t),()=>{this.updateCallbacks.delete(t)}}onNextTick(t){let e,i=()=>this.updateCallbacks.delete(e);return e=()=>{t(this._getUpdateCallbackContext()),i()},this.updateCallbacks.add(e),i}start(){this.tickRequestId=requestAnimationFrame((t=>this._update(t)))}_update(t){this.updateCallbacks.forEach((t=>t(this._getUpdateCallbackContext()))),this.tickRequestId=requestAnimationFrame((t=>this._update(t))),this.deltaTime=(t-this.lastTimestamp)/(1e3/this.perfectFramerate),this.lastTimestamp=t}_getUpdateCallbackContext(){return{deltaTime:this.deltaTime,time:this.lastTimestamp}}};class d extends i{constructor(t){super(),this.config=t,this.translate=new h,this.animations=[],this.currAnimation=null,this.paused=!1,this.finished=!1,this._curPos=0,this._frameCount=0,this._isPlayingLooped=!1,this._animationFinishListeners=new Map,this.name="spriteAnimator"}setGameObject(t){super.setGameObject(t),this.translate=this._gameObject.translate,this.animations.forEach((t=>{t.sprite.translate=this.translate})),this._start()}createAnimation(t){return s(this,void 0,void 0,(function*(){const{source:e,offsetX:i,offsetY:n,animationName:o,framesAmount:s,staggerFrames:r,flipped:a=!1}=t,c=new l;return yield c.loadImage(e),{sprite:c,animationName:o,framesAmount:s,staggerFrames:r,offsetX:i,offsetY:n,flipped:a}}))}addAnimation(t){this.animations.push(t),this._gameObject&&(t.sprite.translate=this._gameObject.translate)}onAnimationFinish(t,e){this._getAnimationFinishListenersArray(t).push(e)}play(t){return s(this,void 0,void 0,(function*(){const{looped:e,name:i,once:o}=t;if(!o||!this.currAnimation||this.currAnimation.animationName!==i)return this._reset(),this._isPlayingLooped=e||!1,this.currAnimation=this.getAnimation(i),this._curPos=this._getStartAnimationFramePosition(),this._updateAnimationFrame(),n.drawables.add(this.currAnimation.sprite),this._isPlayingLooped?Promise.resolve():new Promise((t=>{this.onAnimationFinish(i,(()=>t()))}))}))}getAnimation(t){const e=this.animations.find((e=>e.animationName===t));if(!e)throw new Error(`Animation with name ${t} not found.`);return e}_start(){u.onUpdate((()=>{this._onTick()}))}_reset(){this.currAnimation&&(n.drawables.delete(this.currAnimation.sprite),this._isPlayingLooped||this._onAnimationFinish()),this.paused=!1,this.finished=!1,this._frameCount=0,this._isPlayingLooped=!1}_getNextAnimationFramePosition(){const{framesAmount:t,staggerFrames:e,flipped:i}=this.currAnimation,n=Math.floor(this._frameCount/e);return i?t-n-1:n}_getLastAnimationFramePosition(){const{framesAmount:t,flipped:e}=this.currAnimation;return e?0:t-1}_checkPositionOverflow(t,e){const{flipped:i}=this.currAnimation;return i?t<e:t>e}_getStartAnimationFramePosition(){const{flipped:t,framesAmount:e}=this.currAnimation;return t?e-1:0}_updateAnimationFrame(){const{sprite:t,offsetY:e,offsetX:i}=this.currAnimation,{frameRect:n,animatorRect:o,strokeBoundaries:s}=this.config,{height:r,width:a}=n,{spriteDrawConfig:c}=t;c.cropX=this._curPos*a,c.cropY=r/4,c.offsetX=i,c.offsetY=e,c.cropHeight=r,c.cropWidth=a,c.height=o.height,c.width=o.width,c.strokeBoundaries=s}_onTick(){this.finished||this.paused||(this._updateAnimationState(),this._frameCount+=1)}_getAnimationFinishListenersArray(t){return this._animationFinishListeners.get(t)||this._animationFinishListeners.set(t,[]),this._animationFinishListeners.get(t)}_onAnimationFinish(){const{animationName:t}=this.currAnimation;this._getAnimationFinishListenersArray(t).forEach((t=>t())),this.finished=!0}_updateAnimationState(){let t=this._getNextAnimationFramePosition();const e=this._getLastAnimationFramePosition(),i=this._checkPositionOverflow(t,e);!i||this._isPlayingLooped?(i&&(t=this._getStartAnimationFramePosition(),this._frameCount=0),this._curPos=t,this._updateAnimationFrame()):this._onAnimationFinish()}}new class{constructor(){this.tracks=new Set,this._onAudioContextInitCallbacks=new Set,this._noSourceTracks=new Set}getTrack(t){return[...this.tracks].find((e=>e.name===t))}add({name:t,resolvedSrc:e}){const i=document.createElement("audio");i.src=e;const n={name:t,audio:i,nodes:[]};this._noSourceTracks.add(n),this.tracks.add(n)}play(t){return s(this,void 0,void 0,(function*(){try{const e=this.getTrack(t);if(!e)return void console.warn(`Track with name ${t} not found.`);yield this._createAudioContext(),this._onAudioContextInit((()=>s(this,void 0,void 0,(function*(){this._connectMediaSources(),this._connectTrackAudioNodes(t),yield e.audio.play()}))))}catch(t){console.error(t)}}))}addPosition(t,i){const n=this.getTrack(t);n?this._onAudioContextInit((()=>{const t=n.nodes.find((t=>t instanceof PannerNode)),o=t||new PannerNode(this._audioContext),s=new e(this.listenerPosition.x-i.x,this.listenerPosition.y-i.y),r=s.getLength()/300,{x:a,y:c}=s.normalize();o.positionX.value=-a*r,o.positionZ.value=c*r,t||n.nodes.push(o)})):console.warn(`Track with name ${t} not found.`)}addGain(t,e){const i=this.getTrack(t);i?this._onAudioContextInit((()=>{const t=i.nodes.find((t=>t instanceof GainNode)),n=t||new GainNode(this._audioContext);n.gain.value=e,t||i.nodes.push(n)})):console.warn(`Track with name ${t} not found.`)}stopAndPlay(t){return s(this,void 0,void 0,(function*(){this.stop(t),yield this.play(t)}))}pause(t){this.getTrack(t).audio.pause()}stop(t){const e=this.getTrack(t);e?(e.audio.pause(),e.audio.currentTime=0):console.warn(`Track with name ${t} not found.`)}_connectTrackAudioNodes(t){const e=this.getTrack(t);return function t(e,i){if(!i.length)return e;const n=i[i.length-1];return t(e.connect(n),i.slice(0,-1))}(e.mediaSource,e.nodes).connect(this._audioContext.destination)}_onAudioContextInit(t){this._audioContext&&t(),this._onAudioContextInitCallbacks.add(t)}_connectMediaSources(){0!==this._noSourceTracks.size&&this._noSourceTracks.forEach((t=>this._connectTrackToAudioContext(t.name)))}_createAudioContext(){return s(this,void 0,void 0,(function*(){if(this._audioContext)return this._audioContext.resume();this._audioContext=new AudioContext,this._onAudioContextInitCallbacks.forEach((t=>t()))}))}_connectTrackToAudioContext(t){const e=this.getTrack(t);e.mediaSource||(e.mediaSource=this._audioContext.createMediaElementSource(this.getTrack(t).audio))}};var p=new class{constructor(){this.gameObjects=new Set}instantiate(t){this.gameObjects.add(t),t.onInstantiate()}destroy(t){this.gameObjects.delete(t)}update(t){this.gameObjects.forEach((e=>{var i;return null===(i=e.onUpdate)||void 0===i?void 0:i.call(e,t)}))}},f=new class{setListener(t){const{keyCode:e,onHold:i,onDown:n,onUp:o}=t;let s,r=!1,a=null;function c(t){t.repeat||t.code===e&&(r||(r=!0,n&&u.onNextTick(n)))}function h(t){t.repeat||t.code===e&&(s&&s(),i&&(s=u.onUpdate((({time:t})=>{a||(a=t),i({currTimestamp:t,startTimestamp:a})}))))}function l(t){t.code===e&&(s&&s(),o&&u.onNextTick(o),a&&(a=null),r=!1)}return document.addEventListener("keydown",c),document.addEventListener("keydown",h),document.addEventListener("keyup",l),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keydown",c),document.removeEventListener("keyup",l)}}},m=new class{constructor(){}move(t){p.gameObjects.forEach((e=>{const i=e.getComponent("rigibody");i&&i.move(t)}))}collide(){const t=[...p.gameObjects].filter((t=>t.getComponent("collider")));t.forEach((e=>{const i=e.getComponent("collider");t.forEach((t=>{if(t===e)return;const n=t.getComponent("collider");i.checkCollision(n)}))}))}};class g{constructor(t){if(this.translate=new h,this._children=new Set,this._components={},t){const{name:e,id:i}=t;this.name=e,this.id=i}}setComponent(t){this._components[t.name]=t,t.setGameObject(this)}getComponent(t){return this._components[t]}addChild(t){this.translate.addChild(t.translate),this._children.add(t)}removeChild(t){if("number"!=typeof t)t instanceof g&&this._children.delete(t);else{const e=[...this._children].find((e=>e.id===t));this._children.delete(e)}}onInstantiate(){}onUpdate(t){}instantiate(){p.instantiate(this)}destroy(){this._children.forEach((t=>{p.destroy(t)})),Object.keys(this._components).forEach((t=>this._components[t].cleanup())),p.destroy(this)}}function y(t,e,i){return t*(1-i)+e*i}function v(t,e,i){return t>i?i:t<e?e:t}class _ extends g{constructor({context:t,canvas:e,backgroundColor:i,meshColor:n,borders:o,name:s,id:r,height:a,width:c,imageSmoothingEnabled:h}){super({name:s,id:r}),this.zoom=1,this.backgroundColor="rgba(0, 0, 0, .1)",this.meshColor="white",this.lerp=1,this.deadZoneX=60,this.deadZoneY=60,this.borders={top:-1/0,right:1/0,bottom:1/0,left:-1/0},this._lastZoom=this.zoom,i&&(this.backgroundColor=i),n&&(this.meshColor=n),o&&(this.borders=o),this._context=t,this._canvas=e;const l=window.devicePixelRatio;this._canvas.height=a*l,this._canvas.width=c*l,this._height=a,this._width=c,this._context.scale(l*this.zoom,l*this.zoom),this._context.imageSmoothingEnabled=h}worldToCameraPosition(t){return new e(this.translate.position.x-t.x,this.translate.position.y-t.y)}render(t){this._clearCanvas(),this.target&&this.follow(),t.forEach((t=>{t.draw({context:this._context})})),this._context.restore()}setZoom(t){t<1&&(t=1),this.zoom=t,this._context.scale(this.zoom/this._lastZoom,this.zoom/this._lastZoom),this._lastZoom=this.zoom}_getScreenCenter(){return new e(this._width/2/this.zoom,this._height/2/this.zoom)}_translateCanvas(t){this._context.save(),this._context.translate(t.x,t.y)}follow(){this._context.save();const{x:t,y:i}=this.target.translate.position;this.translate.position.x-t>this.deadZoneX?this.translate.position.x=y(this.translate.position.x,t+this.deadZoneX,this.lerp):this.translate.position.x-t<-this.deadZoneX&&(this.translate.position.x=y(this.translate.position.x,t-this.deadZoneX,this.lerp)),this.translate.position.y-i>this.deadZoneY?this.translate.position.y=y(this.translate.position.y,i+this.deadZoneY,this.lerp):this.translate.position.y-i<-this.deadZoneY&&(this.translate.position.y=y(this.translate.position.y,i-this.deadZoneY,this.lerp));const n=this._getScreenCenter();this.translate.position.x=v(this.translate.position.x,this.borders.left+n.x-20,this.borders.right-n.x+20),this.translate.position.y=v(this.translate.position.y,this.borders.top+n.y-20*this.zoom,this.borders.bottom-n.y+20);const o=this.translate.position.x-n.x,s=this.translate.position.y-n.y;this._translateCanvas(new e(-o,-s))}isInCamera(t){const e=this.worldToCameraPosition(t);return e.x>=0&&e.x<=this._width&&e.y>=0&&e.y<=this._height}_clearCanvas(){this._context.fillStyle=this.backgroundColor,this._context.fillRect(0,0,this._width,this._height),this._context.fillStyle=this.meshColor,this._context.strokeStyle="black"}}class w{constructor(){this._updateCallbacks=new Set,u.onUpdate((({deltaTime:t})=>this._onTick(t)))}start(){u.start()}onUpdate(t){this._updateCallbacks.add(t)}_onTick(t){p.update(t),this._updateCallbacks.forEach((e=>e(t))),n.render(),m.collide(),m.move(t)}}const A=innerHeight,x=innerWidth,b=A-500;var k=r(463),C=r.n(k),T=r(268),L=r.n(T),F=r(416),P=r.n(F),j=r(855),S=r.n(j),R=r(3),N=r.n(R),O=r(952),I=r.n(O),E=r(58),H={};H.styleTagTransform=I(),H.setAttributes=S(),H.insert=P().bind(null,"head"),H.domAPI=L(),H.insertStyleElement=N(),C()(E.A,H),E.A&&E.A.locals&&E.A.locals;const M=new e(120,80),B=["idle","idle-left","run","run-left","attack","attack-left","attack-second","attack-second-left","crouch-attack","crouch-attack-left","crouch","crouch-left","crouch-walk","crouch-walk-left","jump","jump-left","roll","roll-left","jump-fall","jump-fall-left","turn-around","turn-around-left"],D={idle:{fileName:"_Idle.png",framesAmount:10,staggerFrames:10,flipped:!1},"idle-left":{fileName:"_IdleLeft.png",framesAmount:10,staggerFrames:10,flipped:!0},run:{fileName:"_Run.png",framesAmount:10,staggerFrames:3,flipped:!1},"run-left":{fileName:"_RunLeft.png",framesAmount:10,staggerFrames:3,flipped:!0},attack:{fileName:"_Attack.png",framesAmount:4,staggerFrames:3,flipped:!1},"attack-left":{fileName:"_AttackLeft.png",framesAmount:4,staggerFrames:3,flipped:!0},"attack-second":{fileName:"_Attack2.png",framesAmount:4,staggerFrames:3,flipped:!1},"attack-second-left":{fileName:"_Attack2Left.png",framesAmount:4,staggerFrames:3,flipped:!0},"crouch-attack":{fileName:"_CrouchAttack.png",framesAmount:4,staggerFrames:3,flipped:!1},"crouch-attack-left":{fileName:"_CrouchAttackLeft.png",framesAmount:4,staggerFrames:3,flipped:!0},crouch:{fileName:"_Crouch.png",framesAmount:1,staggerFrames:1,flipped:!1},"crouch-left":{fileName:"_CrouchLeft.png",framesAmount:1,staggerFrames:1,flipped:!0},"crouch-walk":{fileName:"_CrouchWalk.png",framesAmount:8,staggerFrames:5,flipped:!1},"crouch-walk-left":{fileName:"_CrouchWalkLeft.png",framesAmount:8,staggerFrames:5,flipped:!0},jump:{fileName:"_Jump.png",framesAmount:3,staggerFrames:3,flipped:!1},"jump-left":{fileName:"_JumpLeft.png",framesAmount:3,staggerFrames:3,flipped:!1},roll:{fileName:"_Roll.png",framesAmount:12,staggerFrames:3,flipped:!1},"roll-left":{fileName:"_RollLeft.png",framesAmount:12,staggerFrames:3,flipped:!0},"jump-fall":{fileName:"_JumpFallInbetween.png",framesAmount:2,staggerFrames:3,flipped:!1},"jump-fall-left":{fileName:"_JumpFallInbetweenLeft.png",framesAmount:2,staggerFrames:3,flipped:!0},"turn-around-left":{fileName:"_TurnAround.png",framesAmount:3,staggerFrames:5,flipped:!1},"turn-around":{fileName:"_TurnAroundLeft.png",framesAmount:3,staggerFrames:5,flipped:!0}};var U=function(t,e,i,n){return new(i||(i=Promise))((function(o,s){function r(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}c((n=n.apply(t,e||[])).next())}))};var z=function(t,e,i,n){return new(i||(i=Promise))((function(o,s){function r(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}c((n=n.apply(t,e||[])).next())}))};class X{constructor(){this.translate=new h,this.lookingDirection=new e(1,0),this.isFalling=!1,this.isRolling=!1,this.isCrouching=!1,this.gameObject=new g,this.isAttacking=!1,this.movementSpeed=.6,this.fallingMovementSpeed=.6,this.crouchSpeed=.1,this.jumpForce=30,this.gravityForce=.4,this.shouldTurnOnRotate=!1,this.isRotatingToLeft=!1,this.isRotatingToRight=!1,this.isRunningToLeft=!1,this.isRunningToRight=!1,this.isAttackingComboAllowed=!1,this.attackingComboTimeout=null,this.gameObject.translate=this.translate}spawn(){return z(this,void 0,void 0,(function*(){const t=yield function(){return U(this,arguments,void 0,(function*(t=!1){const e=new d({frameRect:{height:M.y,width:M.x},animatorRect:{height:1.75*M.y,width:1.75*M.x},strokeBoundaries:t});return yield function(t){return U(this,void 0,void 0,(function*(){const e=B.map((e=>U(this,void 0,void 0,(function*(){const{fileName:i,framesAmount:n,staggerFrames:o,flipped:s}=D[e],{default:a}=yield r(282)(`./${i}`);return t.createAnimation({source:a,animationName:e,framesAmount:n,staggerFrames:o,flipped:s,offsetX:-105,offsetY:-70})}))));(yield Promise.all(e)).forEach((e=>t.addAnimation(e)))}))}(e),e}))}(),e=new o;this._standHandler(e,t,1),this.gameObject.setComponent(t),this.gameObject.setComponent(e),this._setupControls(),this.gameObject.instantiate()}))}getActorDimensions(){const t=this.gameObject.getComponent("spriteAnimator"),{height:i,width:n}=t.config.animatorRect;return new e(n,i)}_playAnimationForLookingDirection(t,e,i){const{x:n}=this.lookingDirection;return n>0?t.play(e):t.play(i)}_fallingMovementHandler(t,e,i){return z(this,void 0,void 0,(function*(){this.lookingDirection.x=i;const{x:n}=this.lookingDirection;yield this._playAnimationForLookingDirection(e,{name:"jump-fall",once:!0},{name:"jump-fall-left",once:!0}),t.push(n*this.fallingMovementSpeed,0)}))}_crouchingMovementHandler(t,e,i){return z(this,void 0,void 0,(function*(){this.lookingDirection.x=i;const{x:n}=this.lookingDirection;yield this._playAnimationForLookingDirection(e,{name:"crouch-walk",looped:!0,once:!0},{name:"crouch-walk-left",looped:!0,once:!0}),t.push(n*this.crouchSpeed,0)}))}_runningMovementHandler(t,e,i){return z(this,void 0,void 0,(function*(){const{x:n}=this.lookingDirection,o=1===i,s=-1===i;if(this.isRotatingToRight||this.isRotatingToLeft)return;if(s&&this.isRunningToRight)return;if(o&&this.isRunningToLeft)return;if(n===i){o&&(this.isRunningToRight=!0),s&&(this.isRunningToLeft=!0);const i={name:"run",looped:!0,once:!0},r={name:"run-left",looped:!0,once:!0};return yield this._playAnimationForLookingDirection(e,i,r),void t.push(n*this.movementSpeed,0)}if(!this.shouldTurnOnRotate)return void(this.lookingDirection.x=i);const r=o?"turn-around":"turn-around-left";o&&(this.isRotatingToRight=!0),s&&(this.isRotatingToLeft=!0),yield e.play({name:r}),this.lookingDirection.x=i,o&&(this.isRotatingToRight=!1),s&&(this.isRotatingToLeft=!1)}))}_movementHandler(t,e,i){return z(this,void 0,void 0,(function*(){if(!this.isAttacking&&!this.isRolling)return this.isCrouching?this._crouchingMovementHandler(t,e,i):this.isFalling?this._fallingMovementHandler(t,e,i):this._runningMovementHandler(t,e,i)}))}_crouchStandHandler(t,e){return z(this,void 0,void 0,(function*(){yield this._playAnimationForLookingDirection(e,{name:"crouch",looped:!0,once:!0},{name:"crouch-left",looped:!0,once:!0})}))}_fallingStandHandler(t,e){return z(this,void 0,void 0,(function*(){yield this._playAnimationForLookingDirection(e,{name:"jump-fall",once:!0},{name:"jump-fall-left",once:!0})}))}_runningStandHandler(t,e,i){return z(this,void 0,void 0,(function*(){const t=1===i,n=-1===i;t&&this.isRunningToLeft||n&&this.isRunningToRight||(t&&(this.isRunningToRight=!1),n&&(this.isRunningToLeft=!1),yield this._playAnimationForLookingDirection(e,{name:"idle",looped:!0,once:!0},{name:"idle-left",looped:!0,once:!0}))}))}_standHandler(t,e,i){return z(this,void 0,void 0,(function*(){const n=i||this.lookingDirection.x;if(!this.isRolling)return this.isCrouching?yield this._crouchStandHandler(t,e):this.isFalling?yield this._fallingStandHandler(t,e):this._runningStandHandler(t,e,n)}))}_standingAttackHandler(t,e){return z(this,void 0,void 0,(function*(){if(this.isAttackingComboAllowed){this.attackingComboTimeout&&clearTimeout(this.attackingComboTimeout);const t={name:"attack-second",once:!0},i={name:"attack-second-left",once:!0};return yield this._playAnimationForLookingDirection(e,t,i),void(this.isAttackingComboAllowed=!1)}yield this._playAnimationForLookingDirection(e,{name:"attack",once:!0},{name:"attack-left",once:!0}),this.isAttackingComboAllowed=!0,setTimeout((()=>this.isAttackingComboAllowed=!1),400)}))}_crouchAttackHandler(t,e){return z(this,void 0,void 0,(function*(){yield this._playAnimationForLookingDirection(e,{name:"crouch-attack",once:!0},{name:"crouch-attack-left",once:!0})}))}_attackHandler(t,e){return z(this,void 0,void 0,(function*(){return this.isCrouching?yield this._crouchAttackHandler(t,e):this._standingAttackHandler(t,e)}))}_onCrouchHandler(t,e){return z(this,void 0,void 0,(function*(){yield this._playAnimationForLookingDirection(e,{name:"crouch",looped:!0,once:!0},{name:"crouch-left",looped:!0,once:!0})}))}_onJumpHandler(t,e){return z(this,void 0,void 0,(function*(){t.push(0,-this.jumpForce),yield this._playAnimationForLookingDirection(e,{name:"jump",once:!0},{name:"jump-left",once:!0})}))}_goRightListener(t,e){return{keyCode:"KeyD",onHold:i=>z(this,[i],void 0,(function*({startTimestamp:i,currTimestamp:n}){n-i>700&&(this.shouldTurnOnRotate=!0),yield this._movementHandler(t,e,1)})),onUp:()=>z(this,void 0,void 0,(function*(){setTimeout((()=>{this.shouldTurnOnRotate=!1}),100),yield this._standHandler(t,e,1)}))}}_goLeftListener(t,e){return{keyCode:"KeyA",onHold:i=>z(this,[i],void 0,(function*({startTimestamp:i,currTimestamp:n}){n-i>700&&(this.shouldTurnOnRotate=!0),yield this._movementHandler(t,e,-1)})),onUp:()=>z(this,void 0,void 0,(function*(){setTimeout((()=>{this.shouldTurnOnRotate=!1}),100),yield this._standHandler(t,e,-1)}))}}_jumpListener(t,e){return{keyCode:"KeyW",onDown:()=>z(this,void 0,void 0,(function*(){this.isFalling||(yield this._onJumpHandler(t,e),yield this._standHandler(t,e))}))}}_crouchListener(t,e){return{keyCode:"KeyS",onDown:()=>z(this,void 0,void 0,(function*(){this.isFalling||(this.isCrouching=!0,yield this._onCrouchHandler(t,e))})),onHold:()=>{this.isRotatingToRight=!1,this.isRotatingToLeft=!1,this.isRunningToRight=!1,this.isRunningToLeft=!1},onUp:()=>z(this,void 0,void 0,(function*(){this.isCrouching=!1,yield this._standHandler(t,e)}))}}_attackListener(t,e){return{keyCode:"KeyK",onDown:()=>z(this,void 0,void 0,(function*(){this.isAttacking||(this.isAttacking=!0,yield this._attackHandler(t,e),this.isAttacking=!1,yield this._standHandler(t,e))})),onUp:()=>z(this,void 0,void 0,(function*(){this.isAttacking||(yield this._standHandler(t,e))}))}}_rollHandler(t,e){return z(this,void 0,void 0,(function*(){const{x:i}=this.lookingDirection;t.push(20*i,0),yield this._playAnimationForLookingDirection(e,{name:"roll",once:!0},{name:"roll-left",once:!0})}))}_rollListener(t,e){return{keyCode:"Space",onDown:()=>z(this,void 0,void 0,(function*(){this.isAttacking||this.isFalling||this.isCrouching||this.isRolling||(this.isRolling=!0,yield this._rollHandler(t,e),this.isRolling=!1,yield this._standHandler(t,e))}))}}_setupControls(){const t=this.gameObject.getComponent("spriteAnimator"),e=this.gameObject.getComponent("rigibody");e.friction=.05,f.setListener(this._goRightListener(e,t)),f.setListener(this._goLeftListener(e,t)),f.setListener(this._jumpListener(e,t)),f.setListener(this._crouchListener(e,t)),f.setListener(this._attackListener(e,t)),f.setListener(this._rollListener(e,t)),u.onUpdate((()=>this._setupGravity(e,t)))}_setupGravity(t,i){return z(this,void 0,void 0,(function*(){const{x:n,y:o}=this.translate.getActualPosition();o<b+55?(this.isFalling=!0,t.push(0,this.gravityForce)):o>=b+55&&(this.isFalling&&(this.isFalling=!1,yield this._standHandler(t,i)),this.isFalling=!1,this.translate.setPosition(new e(n,b+55)))}))}}var Y=function(t,e,i,n){return new(i||(i=Promise))((function(o,s){function r(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}c((n=n.apply(t,e||[])).next())}))};let Z;!function(){Y(this,void 0,void 0,(function*(){yield function(){return Y(this,void 0,void 0,(function*(){!function(){const t=document.getElementById("root");if(!t)return void console.warn("NO CANVAS FOUND.");const e=t.getContext("2d");Z=new _({canvas:t,context:e,height:A,width:x,backgroundColor:"#87CEEB"}),Z.deadZoneX=100,Z.deadZoneY=30,n.cameras.add(Z)}(),yield function(){return Y(this,void 0,void 0,(function*(){const t=new X;yield t.spawn();const{x:i,y:n}=t.getActorDimensions();t.translate.setPosition(new e(x/2-i/2,A/2-n/2)),Z&&(Z.target=t.gameObject)}))}();const t=yield function(){return Y(this,void 0,void 0,(function*(){return(yield r.e(25).then(r.t.bind(r,25,17))).default}))}();for(let i=-50;i<50;i++)for(let o=-50;o<50;o++){const s=new g,r=o>0,a=new l({height:64,width:64,cropWidth:32,cropHeight:32,cropX:r?288:64,cropY:r?64:32});a.translate=s.translate,yield a.loadImage(t),n.drawables.add(a),o>0?s.translate.setPosition(new e(64*i,b+64*o+82)):s.translate.setPosition(new e(64*i,b+82))}}))}(),(new w).start()}))}()})()})();